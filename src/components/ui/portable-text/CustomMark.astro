---
import type { Props as $, Mark as MarkType } from "astro-portabletext/types";
import { Mark } from "astro-portabletext/components";
import CustomHighlight from "./mark/CustomHighlight.astro";

export type Props = $<MarkType<never>>; // ðŸ‘ˆ Use `never` for type parameter

const props = Astro.props;
const markTypeIs = (markType: string) => markType === props.node.markType;

const Cmp = markTypeIs("highlight") ? CustomHighlight : Mark; // Fallback to `astro-portabletext`
---

<Cmp {...props}><slot /></Cmp>
