---
import { PortableText } from "astro-portabletext";
// Custom components
import CustomBlock from "./CustomBlock.astro";
import CustomMark from "./CustomMark.astro";

// Utils
import { mergeComponents } from "astro-portabletext/utils";

type PortableTextProps = Parameters<typeof PortableText>[0];

export type Props = Pick<PortableTextProps, "value" | "components">;

const { value, components: overrideComponents = {} } = Astro.props;

const components = mergeComponents(
  {
    block: CustomBlock,
    mark: CustomMark,
  },
  overrideComponents,
);
---

<PortableText value={value} components={components} />
