---
import GitHubIcon from "@/components/icons/GitHubIcon.astro";
import LinkedInIcon from "@/components/icons/LinkedInIcon.astro";
import InstagramIcon from "@/components/icons/InstagramIcon.astro";
import EmailIcon from "@/components/icons/EmailIcon.astro";
import SpotifyIcon from "@/components/icons/SpotifyIcon.astro";
import GitLabIcon from "../icons/GitLabIcon.astro";

interface SocialMedia {
  name: string;
  url: string;
  icon: any;
}

const socialMedia: SocialMedia[] = [
  {
    name: "GitHub",
    url: "https://github.com/dewodt",
    icon: GitHubIcon,
  },
  {
    name: "GitLab",
    url: "https://gitlab.com/dewodt",
    icon: GitLabIcon,
  },
  {
    name: "LinkedIn",
    url: "https://www.linkedin.com/in/dewantoro-triatmojo/",
    icon: LinkedInIcon,
  },
  {
    name: "Email",
    url: "mailto:dewantorotriatmojo@gmail.com",
    icon: EmailIcon,
  },
  {
    name: "Instagram",
    url: "https://www.instagram.com/dewo.tm/",
    icon: InstagramIcon,
  },
  {
    name: "Spotify",
    url: "https://open.spotify.com/user/0p89rcit1qulphp6uzgsi0tto",
    icon: SpotifyIcon,
  },
];
---

<!-- Bottom blur -->
<div
  class="from-background pointer-events-none fixed inset-x-0 bottom-0 z-30 block h-12 w-full bg-gradient-to-t to-transparent backdrop-blur-lg [-webkit-mask-image:linear-gradient(to_top,black,transparent)]"
>
</div>

<!-- Bar -->
<!-- Note: When using sticky bottom the anchor link is misplaced in mobile firefox (because of the top search browser bar). Alternatively, use fixed with margin to overcome this issue.--><!-- Blur -->
<div class="mt-[calc(58px+24px)] block"></div>
<ul
  class="social-dock border-border/50 bg-card-darker/80 fixed bottom-6 left-1/2 z-30 flex -translate-x-1/2 flex-row items-center justify-center gap-2 rounded-full border p-1.5 backdrop-blur-xl transition-[gap] duration-300 ease-out hover:gap-3"
>
  {
    socialMedia.map((social) => (
      <li class="social-dock-item">
        <a
          href={social.url}
          aria-label={social.name}
          target="_blank"
          class="group text-secondary flex size-10 rounded-full p-1.5"
        >
          {<social.icon class="size-full" />}
        </a>
      </li>
    ))
  }
</ul>

<style>
  .social-dock-item {
    transition: transform 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);
  }

  .social-dock-item:hover {
    transform: scale(1.35);
  }

  .social-dock-item:hover + .social-dock-item,
  .social-dock-item:has(+ .social-dock-item:hover) {
    transform: scale(1.125);
  }

  .social-dock-item:hover + .social-dock-item + .social-dock-item,
  .social-dock-item:has(+ .social-dock-item + .social-dock-item:hover) {
    transform: scale(1.05);
  }
</style>
