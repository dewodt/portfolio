---
import ChevronLeftIcon from "@/components/icons/ChevronLeftIcon.astro";
import ChevronRightIcon from "@/components/icons/ChevronRightIcon.astro";

interface Post {
  href: string;
  title: string;
  description: string;
}

interface Props {
  previous?: Post | null;
  next?: Post | null;
}

const { previous, next } = Astro.props;

if (!previous && !next) return null;
---

<nav class="grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6">
  {
    previous ? (
      <a
        href={previous.href}
        aria-label={`Link to previous post ${previous.title}`}
        class="group/prev border-border bg-card hover:border-border-hover/80 hover:drop-shadow-primary-sm relative flex flex-col gap-2 overflow-hidden rounded-xl border p-4 transition-all duration-300 hover:-translate-y-1 lg:p-5"
      >
        {/* Glow effect */}
        <div class="bg-primary/0 group-hover/prev:bg-primary/10 dark:group-hover/prev:bg-primary/15 pointer-events-none absolute -inset-px -z-10 rounded-xl blur-xl transition-all duration-500" />

        <div class="flex items-center gap-2">
          <ChevronLeftIcon class="text-muted-foreground group-hover/prev:text-primary size-4 transition-all duration-200 group-hover/prev:-translate-x-0.5" />
          <span class="text-muted-foreground group-hover/prev:text-primary font-mono text-xs tracking-widest uppercase transition-colors duration-200">
            Previous
          </span>
        </div>
        <h3 class="text-secondary group-hover/prev:text-primary font-semibold transition-colors duration-200">
          {previous.title}
        </h3>
        <p class="text-muted line-clamp-2 text-sm">{previous.description}</p>
      </a>
    ) : (
      <div class="hidden md:block" />
    )
  }

  {
    next && (
      <a
        href={next.href}
        aria-label={`Link to next post ${next.title}`}
        class="group/next border-border bg-card hover:border-border-hover/80 hover:drop-shadow-primary-sm relative flex flex-col gap-2 overflow-hidden rounded-xl border p-4 transition-all duration-300 hover:-translate-y-1 lg:p-5"
      >
        {/* Glow effect */}
        <div class="bg-primary/0 group-hover/next:bg-primary/10 dark:group-hover/next:bg-primary/15 pointer-events-none absolute -inset-px -z-10 rounded-xl blur-xl transition-all duration-500" />

        <div class="flex items-center justify-end gap-2">
          <span class="text-muted-foreground group-hover/next:text-primary font-mono text-xs tracking-widest uppercase transition-colors duration-200">
            Next
          </span>
          <ChevronRightIcon class="text-muted-foreground group-hover/next:text-primary size-4 transition-all duration-200 group-hover/next:translate-x-0.5" />
        </div>
        <h3 class="text-secondary group-hover/next:text-primary font-semibold transition-colors duration-200">
          {next.title}
        </h3>
        <p class="text-muted line-clamp-2 text-sm">{next.description}</p>
      </a>
    )
  }
</nav>
