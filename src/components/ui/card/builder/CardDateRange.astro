---
import CalendarIcon from "@/components/icons/CalendarIcon.astro";
import { getFormattedDate } from "@/lib/utils";

interface Props {
  isEmptyEndDateShowNow: boolean;
  dateRange: {
    startDate: string;
    endDate?: string;
  };
}

const { isEmptyEndDateShowNow, dateRange } = Astro.props;
---

<div class="z-20 flex flex-row items-center gap-2">
  <CalendarIcon class="size-5 stroke-secondary" />

  <span
    class="text-sm font-medium leading-none text-secondary lg:text-base lg:leading-none"
  >
    {
      isEmptyEndDateShowNow ? (
        <>
          <time datetime={dateRange.startDate}>
            {getFormattedDate(dateRange.startDate)}
            {" – "}
          </time>
          {dateRange.endDate ? (
            <>
              <time datetime={dateRange.endDate}>
                {getFormattedDate(dateRange.endDate)}
              </time>
            </>
          ) : (
            <span>Now</span>
          )}
        </>
      ) : (
        <>
          <time datetime={dateRange.startDate}>
            {getFormattedDate(dateRange.startDate)}
          </time>
          {dateRange.endDate && (
            <>
              {" – "}
              <time datetime={dateRange.endDate}>
                {getFormattedDate(dateRange.endDate)}
              </time>
            </>
          )}
        </>
      )
    }
  </span>
</div>
