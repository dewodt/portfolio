---
import type { LocalImageProps, RemoteImageProps } from "astro:assets";
import { Image } from "astro:assets";

type Props = LocalImageProps | RemoteImageProps;

const props = Astro.props;
---

<Image {...props} data-zoomable />

<script>
  // Initialize medium-zoom
  import mediumZoom from "medium-zoom";

  mediumZoom("[data-zoomable]", {
    margin: window.innerWidth < 1024 ? 24 : 128,
    background: "rgba(0, 0, 0, 0.8)",
  });
</script>

<style is:global>
  .medium-zoom-overlay,
  .medium-zoom-image--opened {
    z-index: 70;
  }
</style>
